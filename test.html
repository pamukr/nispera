<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quantico:ital,wght@0,400;0,700;1,400;1,700&family=Quicksand:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="juan.css" />
  </head>
  <body>
    
    <header>
      <div class="logo"><span>Education</span></div>
      <div class="actual_user">
        <p id="fullname">Nicolas Kuznetzov</p>
        <img
          src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg"
          alt="user_portrait"
          id="portrait"
          onclick=""
        />
      </div>
    </header>
    <section id="main">
      <input type="range" id="skill-range" min="0" max="100" value="50">
      <div class="edit-percent">
        <input type="range" id="skill-percent" min="0" max="100" value="0">
        <div class="edit-percent-inner">
          <div><img src="https://cdn-icons-png.flaticon.com/512/263/263100.png" alt="Skill_icon"><p>Nombre Skill</p></div>
          <div><p id="percentage-display">0%</p></div>
        </div>
      </div>
      

<script>
    var skillPercent = document.getElementById('skill-percent');
    var percentageDisplay = document.getElementById('percentage-display');
    var maxValue = 100;
    var skillPercent = document.getElementById('skill-percent');
    
  skillPercent.addEventListener('input', function() {
      if (this.value > maxValue) {
          this.value = maxValue; 
      }
      var currentValue = this.value;
        percentageDisplay.textContent = currentValue + '%';
      var fillPercentage = (this.value / maxValue) * maxValue;
      this.style.background = `linear-gradient(to right, var(--skill-color) 0%, var(--skill-color) ${fillPercentage}%, #ddd ${fillPercentage}%, #ddd 100%)`;
  });


</script>


      <!--
      <div class="team teams-table" onclick="openTeam(1, this)"><p>Team Name</p><p>#3</p><div><i class="bx bx-chevron-right" ></i></div></div>
      <div class="height-0" id="team1">
        <div class="generic generic-table"><div><img src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg" alt="user_portrait" id="portrait"><p>Marc Zaragoza</p></div><div><i class="bx bx-chevron-right" onclick="openUser(1,1, this)"></i></div></div>
          <div class="white height-0 user-options" id="team1-1">
            <div><p>Username:<span>mazapan</span></p><p>Email:<span>mazapan@gmail.com</span></p></div><div onclick="removeFromGroup()"><i class='bx bxs-user-minus' ></i><p>Remove from group</p></div>
          </div>
        <div class="generic generic-table"><div><img src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg" alt="user_portrait" id="portrait"><p>Marc Zaragoza</p></div><div><i class="bx bx-chevron-right" onclick="openUser(1,2, this)"></i></div></div>
        <div class="white height-0 user-options" id="team1-2">
          <div><p>Username:<span>mazapan</span></p><p>Email:<span>mazapan@gmail.com</span></p></div><div onclick="removeFromGroup()"><i class='bx bxs-user-minus' ></i><p>Remove from group</p></div>
        </div>
        <div class="generic generic-table"><div><img src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg" alt="user_portrait" id="portrait"><p>Marc Zaragoza</p></div><div><i class="bx bx-chevron-right" onclick="openUser(1,3, this)"></i></div></div>
        <div class="white height-0 user-options" id="team1-3">
          <div><p>Username:<span>mazapan</span></p><p>Email:<span>mazapan@gmail.com</span></p></div><div onclick="removeFromGroup()"><i class='bx bxs-user-minus' ></i><p>Remove from group</p></div>
        </div>
        <div class="white add"><i class='bx bx-plus fs30'></i></div>
      </div>
      
      Prototipo arriba ---------------------

      <div class="team-2 teams-table" onclick="openTeam(2, this)"><p>Team Name</p><p>#1</p><div><i class="bx bx-chevron-right" ></i></div></div>
      <div class="height-0" id="team2">
        <div class="generic generic-table"><div><img src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg" alt="user_portrait" id="portrait"><p>Marc Zaragoza</p></div><div><i class="bx bx-chevron-right" onclick="openUser(2,1, this)"></i></div></div>
        <div class="white height-0 user-options" id="team2-1">
          <div><p>Username:<span>mazapan</span></p><p>Email:<span>mazapan@gmail.com</span></p></div><div onclick="removeFromGroup()"><i class='bx bxs-user-minus' ></i><p>Remove from group</p></div>
        </div>
        <div class="white add"><i class='bx bx-plus fs30'></i></div>
      </div>
      <div class="team teams-table" onclick="openTeam(3, this)"><p>Team Name</p><p>#2</p><div><i class="bx bx-chevron-right" ></i></div></div>
      <div class="height-0" id="team3">
        <div class="generic generic-table"><div><img src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg" alt="user_portrait" id="portrait"><p>Marc Zaragoza</p></div><div><i class="bx bx-chevron-right" onclick="openUser(3,1, this)"></i></div></div>
        <div class="white height-0 user-options" id="team3-1">
          <div><p>Username:<span>mazapan</span></p><p>Email:<span>mazapan@gmail.com</span></p></div><div onclick="removeFromGroup()"><i class='bx bxs-user-minus' ></i><p>Remove from group</p></div>
        </div>
        <div class="generic generic-table"><div><img src="https://www.challengedathletes.org/wp-content/uploads/2023/08/portrait-square-03.jpg" alt="user_portrait" id="portrait"><p>Marc Zaragoza</p></div><div><i class="bx bx-chevron-right" onclick="openUser(3,2, this)"></i></div></div>
        <div class="white height-0 user-options" id="team3-2">
          <div><p>Username:<span>mazapan</span></p><p>Email:<span>mazapan@gmail.com</span></p></div><div onclick="removeFromGroup()"><i class='bx bxs-user-minus' ></i><p>Remove from group</p></div>
        </div>
        <div class="white add"><i class='bx bx-plus fs30'></i></div>
      </div>----->

      <!--<button class="save_button activity"><i class='bx bxs-save'></i>Save</button>-->
    </section>

    <script>
      /* >-----------[ CONTENT VAR ]-----------< */
      var projects = `
  <h2>Active Projects</h2>
  <hr class="project">

  <div class="tag nproject" onclick="">
    <h3>New Project</h3>
    <i class='bx bx-plus'></i>
  </div>

  <div class="scroll_tag project" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
    <h3>Project 04</h3>
    <i class='bx bx-chevrons-right'></i>
  </div>

  <div class="scroll_tag project" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
    <h3>Project 03</h3>
    <i class='bx bx-chevrons-right'></i>
  </div>

  <div class="scroll_tag project" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
    <h3>Project 02</h3>
    <i class='bx bx-chevrons-right'></i>
  </div>

  <div class="scroll_tag project" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
    <h3>Project 01</h3>
    <i class='bx bx-chevrons-right'></i>
  </div>

`;

      var user_management = `
  <h2>Users Management</h2>
  <hr class="user">

  <div class="scroll_tag user" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
      <h3>Import CSV</h3>
      <i class='bx bx-chevrons-right'></i>
  </div>

  <div class="scroll_tag user" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
      <h3>All Users</h3>
      <i class="bx bx-chevrons-right"></i>
  </div>

  <div class="scroll_tag log" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
      <h3>Logs</h3>
      <i class="bx bx-chevrons-right"></i>
  </div>
`;

var diveProjectX = `
  <h1>Project XX</h1>

  <div class="scroll_tag skill" onclick="handleClick(this)" onmousedown="handleStart(this)" ontouchstart="handleStart(this)">
    <h3>Skills</h3>
    <i class='bx bx-chevrons-right'></i>
  </div>

  <div class="tag team">
      <h3>Add People</h3>
      <i class='bx bx-plus'></i>
  </div>

  <h2>Activities</h2>
  <hr class="activity">
`;

      function callProjects(a) {
        if (a == "+") {
          document.getElementById("main").innerHTML += projects;
        }else{
          document.getElementById("main").innerHTML = projects;
        }
      }

      function diveProject(id, a) {
        if (a == "+") {
          document.getElementById("main").innerHTML += diveProjectX;
        }else{
          document.getElementById("main").innerHTML = diveProjectX;
        }
      }

      function callUserManagement(a) {
        if (a == "+") {
          document.getElementById("main").innerHTML += user_management;
        }else{
          document.getElementById("main").innerHTML = user_management;
        }
      }

      function openTeam(id, icon){
  let div = document.getElementById(`team${id}`);
  icon = icon.querySelector('.bx-chevron-right');

  if (div.classList.contains("height-0")) {
  div.classList.remove("height-0");
  div.classList.add("fit-content");
  icon.style.transform = "rotate(90deg)";
} else {
  div.classList.remove("fit-content");
  div.classList.add("height-0");
  icon.style.transform = "rotate(0deg)";
}
      }

      function openUser(teamId, userId, icon) {
  let div = document.getElementById(`team${teamId}-${userId}`);

  if (div.classList.contains("height-0")) {
    div.style.padding = "4px 10px";
    div.classList.remove("height-0");
    div.classList.add("fit-content");
    icon.style.transform = "rotate(90deg)";
  } else {
    div.style.padding = "0px";
    div.classList.remove("fit-content");
    div.classList.add("height-0");
    icon.style.transform = "rotate(0deg)";
  }
  
}

// Restablecer el giro de los íconos de usuario en otros equipos
function resetUserIcons(teamId) {
  let teamElements = document.querySelectorAll(`.team:not(#team${teamId}) .bx-chevron-right`);
  teamElements.forEach(icon => icon.style.transform = "rotate(0deg)");
}
     

      /* >-----------[ CONTENT ]-----------< */

      //callProjects("+");
      // callUserManagement("+");

      /* >-----------[ SLIDERS ]-----------< */
      const screenWidth =
        window.innerWidth ||
        document.documentElement.clientWidth ||
        document.body.clientWidth;
      const porcentajeEnPixeles = (30 / 100) * screenWidth;
      let isDragging = false;
      let draggedElement = null;
      var firstx = false;
      const scroll_tag = document.querySelectorAll(".scroll_tag");

      function handleStart(element) {
        if (element.classList.contains("scroll_tag")) {
          isDragging = true;
          draggedElement = element;
        }
      }

      document.addEventListener("mouseup", handleEnd);
      document.addEventListener("touchend", handleEnd);
      document.addEventListener("mousemove", handleMove);
      document.addEventListener("touchmove", handleMove);

      function handleEnd() {
        draggedElement.style.transition = "all 0.6s ease";
        isDragging = false;
        draggedElement = null;
        firstx = false;
        scroll_tag.forEach((element) => {
          element.style.transform = "translateX(-30%)";
        });
      }

      function handleMove(event) {
        if (isDragging && draggedElement) {
          let x;
          draggedElement.style.transition = "all 0s ease";

          if (event.type === "mousemove") {
            x = event.clientX;
          } else if (event.type === "touchmove") {
            // event.preventDefault(); // Prevent scrolling
            const touches = event.touches;
            if (touches.length > 0) {
              const touch = touches[0];
              x = touch.clientX || touch.pageX;
            }
          }

          if (x !== undefined) {
            if (!firstx) {
              firstx = x;
            }
            if (x > firstx) {
              const translateXValue = x - firstx;
              if (translateXValue > porcentajeEnPixeles - 30) {
                setTimeout(() => {
                  //document.body.setAttribute("transition-style", "in:wipe:right");
                }, 400);
                //document.body.removeAttribute("transition-style", "in:wipe:right");
              } else {
                draggedElement.style.transform =
                  "translateX(calc(" + translateXValue + "px - 30%))";
              }
            }
          }
        }
      }
    </script>
  </body>
</html>
